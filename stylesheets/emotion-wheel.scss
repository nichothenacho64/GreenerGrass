@import "constants";

#feedbackContainer {
    margin: 5vh auto;
    position: relative;
    width: $octagon-size;
    height: $octagon-size;
}

#instructionLabel {
    position: absolute;
    left: $corner-margin-large;
    top: 40vh;
    transform: translateY(-50%);
    color: $italic-text-colour;
    font-style: italic;
    font-size: 0.7em;
    max-width: 10em;
    opacity: 1;
    transition: opacity 1s ease;
}

#octagon {
    position: absolute;
    top: 50%;
    left: 50%;
    width: $octagon-size;
    height: $octagon-size;
    transform: translate(-50%, -50%);
    background: $disabled-white;
    clip-path: polygon(50% 0%,
            85% 15%,
            100% 50%,
            85% 85%,
            50% 100%,
            15% 85%,
            0% 50%,
            15% 15%);
}

#mainCircle {
    position: absolute;
    top: 50%;
    left: 50%;
    width: $circle-size;
    height: $circle-size;
    border-radius: 50%;
    background: $circle-gradient;
    transform: translate(-50%, -50%);
    cursor: crosshair; // for choosing the cursor type; maybe this won't be needed for later

    &.flash {
        animation: flashPulse 1s ease;
    }

    .user-selection {
        position: absolute;
        width: $dot-size;
        height: $dot-size;
        border-radius: 50%;
        border: 3px solid white;
        background: transparent;
        transform: translate(-50%, -50%) scale(0.7);
        opacity: 0;
        transition: opacity 1s ease, transform 0.4s ease;
        pointer-events: none; // prevent interference with clicks
        box-shadow: 0 0 10px rgba(255, 255, 255, 0.6);

        &.visible {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        }
    }
}

.emotion-label {
    color: white;
    position: absolute;
    font-weight: bold;
    font-size: 0.55em !important;
    white-space: nowrap;
    opacity: 0;
    transition: opacity 0.4s ease-in-out;

    &.flash {
        animation: labelFlash 1s ease;
    }
}

@keyframes flashPulse {
    0% {
        filter: brightness(1) saturate(1);
        box-shadow: 0 0 0 rgba(255, 255, 255, 0);
    }

    50% {
        filter: brightness(1.5) saturate(1.5);
        box-shadow: 0 0 25px rgba(255, 255, 255, 0.8);
    }

    100% {
        filter: brightness(1) saturate(1);
        box-shadow: 0 0 0 rgba(255, 255, 255, 0);
    }
}

@keyframes labelFlash {
    0% {
        filter: brightness(1);
        opacity: 1;
        text-shadow: 0 0 0 rgba(255, 255, 255, 0);
    }

    50% {
        filter: brightness(3);
        opacity: 0.5;
        text-shadow:
            0 0 15px rgba(255, 255, 255, 0.9),
            0 0 30px rgba(255, 255, 255, 0.7),
            0 0 45px rgba(255, 255, 255, 0.5);
    }

    100% {
        filter: brightness(1);
        opacity: 1;
        text-shadow: 0 0 0 rgba(255, 255, 255, 0);
    }
}